= Anypoint Platform Hosting Options

You can host different parts of Anypoint Platform in different locations, either in the cloud or in a physical data center. The best hosting option for your Anypoint Platform environment depends on your security, data privacy, and legal requirements. Different hosting options enable you to control the location where your and your customer's data is stored, processed, and managed. The data remains segregated within the physical location required by your companies IT policies and requirements.

== Control Plane vs Runtime Plane

To understand the different hosting options, it is important to understand the concepts of control plane and runtime plane within the context of Anypoint Platform.

image::intro-control-vs-runtime-planes.png[]

* Control plane
+
Control plane refers to the components of the Anypoint Platform architecture you use to design, deploy, and manage APIs and Mule applications. The control plane contains product features and components that are part of the Anypoint Design Center, Anypoint Management Center and Exchange.

* Runtime plane
+
Runtime plane refers to the components of the Anypoint Platform architecture where your APIs and Mule applications are deployed and made available to your users. The runtime plane includes the Mule runtime server and supporting services.

=== Which Hosting Option is Right for You?

Anypoint Platform is designed to enable the control plane and runtime plane to be hosted independently. Depending on your requirements, you can choose from the following: 

* Use Anypoint Platform in the MuleSoft-managed control plane and runtime plane
* Host and manage the runtime plane with your own infrastructure while connecting it with the MuleSoft-managed control plane
* Host both the control plane and runtime plane locally withint your own infrastructure.

See <<Control Plane and Runtime Plane Support Matrix>> for information on which runtime plane hosting options are supported in each control plane option.

== Control Plane Hosting Options

MuleSoft provides the following environments for the control plane:

* US Cloud (default)
+
In US Cloud, the control plane is physically hosted within the United States.

* EU Cloud
+
In the EU Cloud, the control plane is physically hosted within the European Union.

* MuleSoft Government Cloud
+
MuleSoft Government Cloud is a FedRAMP-compliant instance of the control plane that’s managed by MuleSoft and is suitable for government agencies.
+
See xref:gov-cloud::index.adoc[About Government Cloud] for more information.

* Customer-Hosted Control Plane
+
MuleSoft also enables you to host the control plane within your own data center. Anypoint Platform Private Cloud Edition is a version of Anypoint Platform that supports hosting the control plane within a user-managed data center. This enables you to control the environment where your assets and metadata are stored.
+
Private Cloud Edition supports deploying to Mule runtime servers hosted in a standalone environment. You can host the control plane in a physical server, a virtual server, or a 3rd-party cloud environment such as Amazon Web Services. 
+
See xref:private-cloud::/latest/index.adoc[About Anypoint Platform PCE] for more information.
+
Some Anypoint Platform components are not supported in Private Cloud Edition. See the <<Support Matrix for Control Plane Hosting Options>> for details.

=== Support Matrix for Control Plane Hosting Options

Not all Anypoint Platform components are supported in all cloud environments. The following table shows which component is supported by each environment:

[%header,cols="5*a"]
|===
| Anypoint Platform Component | US Cloud | EU Cloud | MuleSoft Government Cloud | Private Cloud Edition
| API Designer | Y | Y | Y | Y
| Anypoint Studio | Y | Y | Y | Y
| Flow Designer | Y | Y | N | N
| Anypoint Exchange | Y | Y | Y | Y
| Anypoint API Community Manager* | Y | Y | N | N
| Anypoint Partner Manager | Y | N | N | N
| Access management | Y | Y | Y | Y
| Analytics | Y | Y | N | N
| Anypoint API Manager | Y | Y | Y | Y
| Anypoint Runtime Manager | Y | Y | Y | Y
| Anypoint Monitoring | Y | Y | N | N
| Secrets manager | Y | Y | N | N
| Anypoint Visualizer | Y | Y | N | N
| Anypoint Security edge policies | Y | Y | N | N
| Anypoint Security tokenization | Y | Y | N | N
| CloudHub runtimes | Y | Y | Y | N
| Runtime Fabric | Y | Y | N | N
| Customer-hosted Runtimes | Y | Y | N | Y
|===

== Runtime Plane Hosting Options

MuleSoft provides three different options for hosting the Anypoint Platform runtime plane:

* CloudHub
+
CloudHub is MuleSoft's cloud-based environment for hosting the Mule runtime server and related services. CloudHub enables you to deploy an API or a Mule application on a platform that’s managed by MuleSoft.
+
CloudHub also provides high-availability, clustering and failover of your APIs and Mule applications and load balances traffic to them. See xref:runtime-manager::cloudhub.adoc[CloudHub] for more information.
+
CloudHub can only be managed by the Cloud control plane in the same environment (US Cloud, EU Cloud, or GovCloud).

* Runtime Fabric
+
Runtime Fabric is a container service that enables you to run Mule applications and API gateways within a data center or 3rd-party cloud environment that you control and manage. Runtime Fabric can be installed on a set of physical servers, virtual machines, or within Amazon Web Services and Microsoft Azure.
+
Runtime Fabric comes bundled with technology such as Docker and Kubernetes to offer benefits such as high-availability, failover, clustering, and load balancing. See xref:runtime-fabric::/latest/index.adoc[Anypoint Runtime Fabric Overview] for more information.
+
Runtime Fabric can only be managed by Cloud control planes (US Cloud, EU Cloud). MuleSoft Government Cloud and Private Cloud Edition do not support Runtime Fabric.

* Standalone Runtimes
+
The standalone option enables you to host Mule runtime engine server and related services in an environment that you manage. Using standalone runtimes, the Mule Runtime Server can run on a physical server, a virtual machine, or within a 3rd-party cloud installation like Amazon Web Services or Microsoft Azure.
+
When using standalone runtimes, you are also responsible for providing the framework for high-availability, failover, clustering and load balancing. See xref:mule-runtime::latest/mule-standalone[Run Mule Runtime Engine On-Premises]
+
Standalone runtimes can be managed by Cloud control plans (US Cloud, EU Cloud) or a customer-hosted control plane (PCE). MuleSoft Government Cloud does not support standalone runtimes.

=== Support Matrix for Runtime Plane Hosting Options

Not all Anypoint Platform components are supported in each of the Runtime Plane hosting options:

[%header,cols="4*a"]
|===
| Anypoint Platform Component | CloudHub | Runtime Fabric | Standalone
| Mule runtime engine | Y | Y | Y
| Anypoint MQ | Y | N | N
| Anypoint Object Store | Y | N | N
| Connectors | Y | Y | Y
|===


* Anypoint MQ and Anypoint Object Store
+
Runtime Fabric and standalone runtimes do not support Anypoint MQ or Anypoint Object Store. Instead, Runtime Fabric and standalone runtimes support Mule clustering. On Runtime Fabric, multiple replicas of the same application can share objects. On standalone runtimes, multiple Mule runtime engines can share objects with each other.
+
See xref:mule-runtime::choosing-the-right-clustering-topology[Cluster Runtime Instances]

* Connector Support
+
Connectors that retrieve and manipulate files on the file system are not supported, for example the file connector. Mule applications deployed to Runtime Fabric do not have access to the file system of the virtual machine nor the network mount. 

== Control Plane and Runtime Plane Support Matrix

The following table lists which runtime plane options are supported in each control plane hosting option.

[%header,cols="5*a"]
|===
| Runtime Plane | US Cloud | EU Cloud| Government Cloud | Private Cloud Edition
| CloudHub | Y | Y | Y | N
| Standalone Runtimes | Y | Y | N | N
| Runtime Fabric | Y | Y | N | N
|===
